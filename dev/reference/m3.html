<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>The Multinomial / Memory Measurement Model — m3 • bmm</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The Multinomial / Memory Measurement Model — m3"><meta name="description" content="The Multinomial / Memory Measurement Model (M3) is a measurement model that was originally introduced
for working memory tasks with categorical responses. It assumes that each candidate in each response
category is activated by a combination of sources of activation. The probability of choosing a response
category is determined by the activation of the candidates. The model can be used for any n-AFC categorical
decision task."><meta property="og:description" content="The Multinomial / Memory Measurement Model (M3) is a measurement model that was originally introduced
for working memory tasks with categorical responses. It assumes that each candidate in each response
category is activated by a combination of sources of activation. The probability of choosing a response
category is determined by the activation of the candidates. The model can be used for any n-AFC categorical
decision task."><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bmm</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="https://venpopov.github.io/bmm/dev-notes/index.html">Develop</a></li>
<li class="nav-item"><a class="nav-link" href="https://venpopov.github.io/bmm/parameter-recovery/index.html">Parameter recovery</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/venpopov/bmm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>The Multinomial / Memory Measurement Model</h1>
      <small class="dont-index">Source: <a href="https://github.com/venpopov/bmm/blob/develop/R/model_m3.R" class="external-link"><code>R/model_m3.R</code></a></small>
      <div class="d-none name"><code>m3.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The Multinomial / Memory Measurement Model (M3) is a measurement model that was originally introduced
for working memory tasks with categorical responses. It assumes that each candidate in each response
category is activated by a combination of sources of activation. The probability of choosing a response
category is determined by the activation of the candidates. The model can be used for any n-AFC categorical
decision task.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">m3</span><span class="op">(</span><span class="va">resp_cats</span>, <span class="va">num_options</span>, choice_rule <span class="op">=</span> <span class="st">"softmax"</span>, version <span class="op">=</span> <span class="st">"custom"</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-resp-cats">resp_cats<a class="anchor" aria-label="anchor" href="#arg-resp-cats"></a></dt>
<dd><p>The variable names that contain the number of responses for each of the
response categories used for the M3.</p></dd>


<dt id="arg-num-options">num_options<a class="anchor" aria-label="anchor" href="#arg-num-options"></a></dt>
<dd><p>Either an integer vector of the same length as <code>resp_cats</code> if the number
of candidates in the respective response categories are constant across all conditions
in the experiment. Or a vector specifying the variable names that contain the number of
candidates in each response category. The order of these variables should be in the
same order as the names of the response categories passed to <code>resp_cats</code></p></dd>


<dt id="arg-choice-rule">choice_rule<a class="anchor" aria-label="anchor" href="#arg-choice-rule"></a></dt>
<dd><p>The choice rule that should be used for the M3. The options are "softmax"
or "simple". The "softmax" option implements the softmax normalization of activation into
probabilities for choosing the different response categories. The "simple" option implements
a simple normalization of the absolute activations over the sum of all activations. For details
on the differences of these choice rules please see the appendix of Oberauer &amp; Lewandowsky (2019)
"Simple measurement models for complex working memory tasks" published in Psychological Review.</p></dd>


<dt id="arg-version">version<a class="anchor" aria-label="anchor" href="#arg-version"></a></dt>
<dd><p>Character. The version of the M3 model to use. Can be one of
<code>ss</code>, <code>cs</code>, or <code>custom</code>. The default is <code>custom</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>used internally for testing, ignore it</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>bmmodel</code></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ul><li><p><strong>Domain:</strong> Working Memory (categorical), Categorical Decision Making</p></li>
<li><p><strong>Task:</strong> n-AFC retrieval</p></li>
<li><p><strong>Name:</strong> The Multinomial / Memory Measurement Model</p></li>
<li><p><strong>Citation:</strong></p><ul><li><p>Oberauer, K., &amp; Lewandowsky, S. (2019). Simple measurement models for complex working-memory tasks. Psychological Review, 126.</p></li>
</ul></li>
</ul><div class="section">
<h3 id="version-ss">Version: <code>ss</code><a class="anchor" aria-label="anchor" href="#version-ss"></a></h3>

<ul><li><p><strong>Requirements:</strong></p><ul><li><p>Provide names for variables specifying the number of responses in a set of response categories.</p></li>
<li><p>Specify activation sources for each response categories</p></li>
<li><p>Include at least an activation source "b" for all response categories</p></li>
<li><p>Predict the specified activation at least by a fixed intercept and any additional predictors from your data</p></li>
</ul></li>
<li><p><strong>Parameters:</strong></p><ul><li><p><code>b</code>: Background activation. Added to each response category. Fixed for scaling, necessary in all models.</p></li>
<li><p><code>c</code>: Context activation. Added to the item cued to be recalled, that is the correct item.</p></li>
<li><p><code>a</code>: General activation. Added to all items that were presented during the current trial.</p></li>
</ul></li>
<li><p><strong>Fixed parameters:</strong></p><ul><li><p><code>b</code> = 0</p></li>
</ul></li>
<li><p><strong>Default parameter links:</strong></p><ul><li><p>c = identity; a = identity</p></li>
</ul></li>
<li><p><strong>Default priors:</strong></p><ul><li><p><code>a</code>:</p><ul><li><p><code>main</code>: normal(2,1)</p></li>
<li><p><code>effects</code>: normal(0,0.5)</p></li>
</ul></li>
<li><p><code>c</code>:</p><ul><li><p><code>main</code>: normal(3,1)</p></li>
<li><p><code>effects</code>: normal(0,2)</p></li>
</ul></li>
</ul></li>
</ul></div>

<div class="section">
<h3 id="version-cs">Version: <code>cs</code><a class="anchor" aria-label="anchor" href="#version-cs"></a></h3>

<ul><li><p><strong>Requirements:</strong></p><ul><li><p>Provide names for variables specifying the number of responses in a set of response categories.</p></li>
<li><p>Specify activation sources for each response categories</p></li>
<li><p>Include at least an activation source "b" for all response categories</p></li>
<li><p>Predict the specified activation at least by a fixed intercept and any additional predictors from your data</p></li>
</ul></li>
<li><p><strong>Parameters:</strong></p><ul><li><p><code>b</code>: Background activation. Added to each response category. Fixed for scaling, necessary in all models.</p></li>
<li><p><code>c</code>: Context activation. Added to the item cued to be recalled, that is the correct item.</p></li>
<li><p><code>a</code>: General activation. Added to all items that were presented during the current trial.</p></li>
<li><p><code>f</code>: Filtering. This parameter captures the extent to which distractors remained in working memory.</p></li>
</ul></li>
<li><p><strong>Fixed parameters:</strong></p><ul><li><p><code>b</code> = 0</p></li>
</ul></li>
<li><p><strong>Default parameter links:</strong></p><ul><li><p>c = identity; a = identity; f = logit</p></li>
</ul></li>
<li><p><strong>Default priors:</strong></p><ul><li><p><code>a</code>:</p><ul><li><p><code>main</code>: normal(3,1)</p></li>
<li><p><code>effects</code>: normal(0,0.5)</p></li>
</ul></li>
<li><p><code>c</code>:</p><ul><li><p><code>main</code>: normal(3,1)</p></li>
<li><p><code>effects</code>: normal(0,2)</p></li>
</ul></li>
<li><p><code>f</code>:</p><ul><li><p><code>main</code>: logistic(0,1)</p></li>
<li><p><code>effects</code>: normal(0,1)</p></li>
</ul></li>
</ul></li>
</ul></div>

<div class="section">
<h3 id="version-custom">Version: <code>custom</code><a class="anchor" aria-label="anchor" href="#version-custom"></a></h3>

<ul><li><p><strong>Requirements:</strong></p><ul><li><p>Provide names for variables specifying the number of responses in a set of response categories.</p></li>
<li><p>Specify activation sources for each response categories</p></li>
<li><p>Include at least an activation source "b" for all response categories</p></li>
<li><p>Predict the specified activation at least by a fixed intercept and any additional predictors from your data</p></li>
</ul></li>
<li><p><strong>Parameters:</strong></p><ul><li><p><code>b</code>: Background activation. Added to each response category. Fixed for scaling, necessary in all models.</p></li>
</ul></li>
<li><p><strong>Fixed parameters:</strong></p><ul><li><p><code>b</code> = 0</p></li>
</ul></li>
<li><p><strong>Default parameter links:</strong></p><ul><li><p>=</p></li>
</ul></li>
<li><p><strong>Default priors:</strong></p></li>
</ul></div>

    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># isTRUE(Sys.getenv("BMM_EXAMPLES"))</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">oberauer_lewandowsky_2019_e1</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># initiate the model object</span></span></span>
<span class="r-in"><span><span class="va">m3_model</span> <span class="op">&lt;-</span> <span class="fu">m3</span><span class="op">(</span></span></span>
<span class="r-in"><span>  resp_cats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"corr"</span>, <span class="st">"other"</span>, <span class="st">"dist"</span>, <span class="st">"npl"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  num_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n_corr"</span>, <span class="st">"n_other"</span>, <span class="st">"n_dist"</span>, <span class="st">"n_npl"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  choice_rule <span class="op">=</span> <span class="st">"simple"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify the model formula including the activation formulas for each response category</span></span></span>
<span class="r-in"><span><span class="va">m3_formula</span> <span class="op">&lt;-</span> <span class="fu"><a href="bmmformula.html">bmf</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">corr</span> <span class="op">~</span> <span class="va">b</span> <span class="op">+</span> <span class="va">a</span> <span class="op">+</span> <span class="va">c</span>,</span></span>
<span class="r-in"><span>  <span class="va">other</span> <span class="op">~</span> <span class="va">b</span> <span class="op">+</span> <span class="va">a</span>,</span></span>
<span class="r-in"><span>  <span class="va">dist</span> <span class="op">~</span> <span class="va">b</span> <span class="op">+</span> <span class="va">d</span>,</span></span>
<span class="r-in"><span>  <span class="va">npl</span> <span class="op">~</span> <span class="va">b</span>,</span></span>
<span class="r-in"><span>  <span class="va">c</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">cond</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">cond</span> <span class="op">|</span> <span class="va">ID</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va">a</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="va">cond</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="va">cond</span> <span class="op">|</span> <span class="va">ID</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="va">d</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">ID</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify links for the model parameters</span></span></span>
<span class="r-in"><span><span class="va">m3_model</span><span class="op">$</span><span class="va">links</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  c <span class="op">=</span> <span class="st">"log"</span>,</span></span>
<span class="r-in"><span>  a <span class="op">=</span> <span class="st">"log"</span>,</span></span>
<span class="r-in"><span>  d <span class="op">=</span> <span class="st">"log"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check if the default priors are applied correctly</span></span></span>
<span class="r-in"><span><span class="fu"><a href="default_prior.bmmformula.html">default_prior</a></span><span class="op">(</span><span class="va">m3_formula</span>, data <span class="op">=</span> <span class="va">data</span>, model <span class="op">=</span> <span class="va">m3_model</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># fit the model</span></span></span>
<span class="r-in"><span><span class="va">m3_fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="bmm.html">bmm</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  formula <span class="op">=</span> <span class="va">m3_formula</span>,</span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">data</span>,</span></span>
<span class="r-in"><span>  model <span class="op">=</span> <span class="va">m3_model</span>,</span></span>
<span class="r-in"><span>  cores <span class="op">=</span> <span class="fl">4</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print summary of the model</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">m3_fit</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vencislav Popov, Gidon T. Frischkorn.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

