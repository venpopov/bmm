<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Wrapper functions and custom distributions that make it easier to estimate common 
    measurement models for using the brms package. Currently implemented 
    are the two-parameter mixture model by Zhang and Luck (2008),the three-
    parameter mixture model by Bays et al (2009), and the Interference Measurement Model 
    (Oberauer et al., 2017).">
<title>Easy and Accesible Bayesian Measurement Models using brms • bmm</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Easy and Accesible Bayesian Measurement Models using brms">
<meta property="og:description" content="Wrapper functions and custom distributions that make it easier to estimate common 
    measurement models for using the brms package. Currently implemented 
    are the two-parameter mixture model by Zhang and Luck (2008),the three-
    parameter mixture model by Bays et al (2009), and the Interference Measurement Model 
    (Oberauer et al., 2017).">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">bmm</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="dev-notes/index.html">Develop</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/venpopov/bmm/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="bmm--">bmm <!-- badges: start --> <!-- badges: end -->
<a class="anchor" aria-label="anchor" href="#bmm--"></a>
</h1></div>
<p>The goal of bmm (Bayesian Measurement Models) is to make it easier to estimate common measurement models for behavioral research using Bayesian hierarhical estimation via the ‘brms’ package’. Currently implemented models are:</p>
<div class="section level4">
<h4 id="visual-working-memory">Visual working memory<a class="anchor" aria-label="anchor" href="#visual-working-memory"></a>
</h4>
<ul>
<li><p>Interference measurement model by Oberauer and Lin (2017).</p></li>
<li><p>Two-parameter mixture model by Zhang and Luck (2008).</p></li>
<li><p>Three-parameter mixture model by Bays et al (2009).</p></li>
<li><p>Signal Discrimination Model (SDM) by Oberauer (2023)</p></li>
</ul>
<p>You can always view the latest list of supported models by running:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">bmm</span><span class="fu">::</span><span class="fu"><a href="reference/supported_models.html">supported_models</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; The following models are supported:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; -  IMMabc(non_targets, setsize) </span></span>
<span><span class="co">#&gt; -  IMMbsc(non_targets, setsize, spaPos) </span></span>
<span><span class="co">#&gt; -  IMMfull(non_targets, setsize, spaPos) </span></span>
<span><span class="co">#&gt; -  mixture2p() </span></span>
<span><span class="co">#&gt; -  mixture3p(non_targets, setsize) </span></span>
<span><span class="co">#&gt; -  sdmSimple() </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Type  ?modelname  to get information about a specific model, e.g.  ?IMMfull</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of bmm from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"venpopov/bmm"</span><span class="op">)</span></span></code></pre></div>
<p>The package was significantly updated on Feb 03, 2024. If you are following the old version of the <a href="https://osf.io/preprints/psyarxiv/umt57" class="external-link">Tutorial preprint</a>, you need to install the 0.0.1 version of the bmm package with:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"venpopov/bmm@v0.0.1"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-1">Example 1<a class="anchor" aria-label="anchor" href="#example-1"></a>
</h2>
<p>The three-parameter mixture model by Bays et al (2009) assumes that responses can come from three different sources - noisy representation of the target, confusion with noisy representation of non-target items, or guessing based on a uniform distribution. To estimate these parameters for a dataset, we can use the <code><a href="reference/fit_model.html">fit_model()</a></code> function. First, let’s generate a dataset with known parameters. We can use the function <code><a href="reference/gen_3p_data.html">gen_3p_data()</a></code></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/venpopov/bmm" class="external-link">bmm</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gen_3p_data.html">gen_3p_data</a></span><span class="op">(</span>N<span class="op">=</span><span class="fl">2000</span>, pmem<span class="op">=</span><span class="fl">0.6</span>, pnt<span class="op">=</span><span class="fl">0.3</span>, kappa<span class="op">=</span><span class="fl">10</span>, setsize<span class="op">=</span><span class="fl">4</span>, relative_resp<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="co">#&gt;            y    nt1_loc    nt2_loc    nt3_loc</span></span>
<span><span class="co">#&gt; 1 -0.3744489 -0.7745662 -1.7851322  2.6250857</span></span>
<span><span class="co">#&gt; 2 -0.2276437 -2.9242605 -1.0636064  1.3510206</span></span>
<span><span class="co">#&gt; 3 -0.4434759 -3.0442414  3.1308954  2.5139912</span></span>
<span><span class="co">#&gt; 4 -0.1851510  2.9494581 -2.5852143  0.7524799</span></span>
<span><span class="co">#&gt; 5 -0.2141779  1.3277457  2.9447087 -2.3150407</span></span>
<span><span class="co">#&gt; 6  0.5607886  2.5964077  0.8039922  2.9028663</span></span></code></pre></div>
<p>We have a dataset of 2000 observations of response error, of which 60% (pmem=0.6) come from the target distribution, 30% (pnt=0.3) are non-target swaps, and 10% are guessing. The precision of the von Mises distribution is 10, the presented setsize is 4 (one target and three lures/non-targets), and the values are coded relative to the target value (i.e., response error for the y variable or displacement relative to the target for the lures).</p>
<p>Just for visualization purposes, here’s a histogram of the error distribution, demonstrating a typical pattern - a normal distribution centered on 0, with long tails:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">dat</span><span class="op">$</span><span class="va">y</span>, breaks <span class="op">=</span> <span class="fl">60</span>, xlab <span class="op">=</span> <span class="st">"Response error relative to target"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"> Another key property of the data is that some error responses are not random, but that they are due to confusion of the target with one of the lures. We can visualize this by centering the response error relative to each of the possible non-target locations. We do this with the helper function <code><a href="reference/calc_error_relative_to_nontargets.html">calc_error_relative_to_nontargets()</a></code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/calc_error_relative_to_nontargets.html">calc_error_relative_to_nontargets</a></span><span class="op">(</span><span class="st">'y'</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">'nt'</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="st">'_loc'</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">y_nt</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_histogram</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="100%"></p>
<p>Ok, so now let’s fit the three-parameter model. We only need to do two things: - Specify the model formula - Call fit_model()</p>
<p>In this example the parameters don’t vary over conditions, so we have no predictors. <code>y</code> is the name of the response error variable, whereas <code>kappa</code>, <code>thetat</code> and <code>thetant</code> are the parameters of the model - precision, mixing proportion for correct responses and mixing proportion for non-target swaps.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ff</span> <span class="op">&lt;-</span> <span class="fu">brms</span><span class="fu">::</span><span class="fu"><a href="https://paul-buerkner.github.io/brms/reference/brmsformula.html" class="external-link">bf</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>         <span class="va">kappa</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>         <span class="va">thetat</span> <span class="op">~</span> <span class="fl">1</span>,</span>
<span>         <span class="va">thetant</span> <span class="op">~</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>Then specify the model and give it information about the required arguments. In the case of the 3-parameter model, we need to specify the names of the non-target variables and the setsize. We can do this with the <code><a href="reference/mixture3p.html">mixture3p()</a></code> function:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mixture3p.html">mixture3p</a></span><span class="op">(</span>non_targets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">'nt'</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="st">'_loc'</span><span class="op">)</span>, setsize<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p>You can always get full help and information about the model and its required arguments, as well as examples by running <code><a href="reference/mixture3p.html">?mixture3p</a></code></p>
<p>Finally we just run the model. The arguments to the function explained in <code><a href="reference/fit_model.html">help(fit_model)</a></code> and you can also pass any additional arguments that you would pass to <code>brm</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fit_model.html">fit_model</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">ff</span>,</span>
<span>                 data <span class="op">=</span> <span class="va">dat</span>,</span>
<span>                 model <span class="op">=</span> <span class="va">model</span>,</span>
<span>                 parallel<span class="op">=</span><span class="cn">T</span>,</span>
<span>                 iter<span class="op">=</span><span class="fl">500</span>,</span>
<span>                 backend<span class="op">=</span><span class="st">'cmdstanr'</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/venpopov/bmm/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/venpopov/bmm/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing bmm</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Vencislav Popov <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
<li>Gidon Frischkorn <br><small class="roles"> Author, copyright holder </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Vencislav Popov, Gidon Frischkorn.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
