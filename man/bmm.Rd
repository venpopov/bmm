% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bmm.R
\name{bmm}
\alias{bmm}
\alias{fit_model}
\title{Fit Bayesian Measurement Models}
\usage{
bmm(
  formula,
  data,
  model,
  prior = NULL,
  chains = 4,
  parallel = getOption("bmm.parallel", FALSE),
  sort_data = getOption("bmm.sort_data", "check"),
  silent = getOption("bmm.silent", 1),
  backend = getOption("brms.backend", NULL),
  ...
)

fit_model(
  formula,
  data,
  model,
  prior = NULL,
  chains = 4,
  parallel = getOption("bmm.parallel", FALSE),
  sort_data = getOption("bmm.sort_data", "check"),
  silent = getOption("bmm.silent", 1),
  backend = getOption("brms.backend", NULL),
  ...
)
}
\arguments{
\item{formula}{An object of class \code{bmmformula}. A symbolic description of the
model to be fitted.}

\item{data}{An object of class data.frame, containing data of all variables
used in the model. The names of the variables must match the variable names
passed to the \code{bmmmodel} object for required argurments.}

\item{model}{A description of the model to be fitted. This is a call to a
\code{bmmmodel} such as \code{mixture3p()} function. Every model function has a
number of required arguments which need to be specified within the function
call. Call \code{\link[=supported_models]{supported_models()}} to see the list of supported models and
their required arguments}

\item{prior}{One or more \code{brmsprior} objects created by \code{\link[brms:set_prior]{brms::set_prior()}}
or related functions and combined using the c method or the + operator. See
also \code{\link[=default_prior]{default_prior()}} for more help. Not necessary for the default model
fitting, but you can provide prior constraints to model parameters}

\item{chains}{Numeric. Number of Markov chains (defaults to 4)}

\item{parallel}{Logical; If TRUE, the number of cores on your machine will be
detected and brms will fit max(chains, cores) number of chains (specified
by the \code{chain} argument) in parallel using the parallel package}

\item{sort_data}{Logical. If TRUE, the data will be sorted by the predictor
variables for faster sampling. If FALSE, the data will not be sorted, but
sampling will be slower. If "check" (the default), \code{\link[=bmm]{bmm()}} will check if
the data is sorted, and ask you via a console prompt if it should be
sorted. You can set the default value for this option using global
\verb{options(bmm.sort_data = TRUE/FALSE/"check)})\verb{or via}bmm_options(sort_data)`}

\item{silent}{Verbosity level between 0 and 2. If 1 (the default), most of the
informational messages of compiler and sampler are suppressed. If 2, even
more messages are suppressed. The actual sampling progress is still
printed. Set refresh = 0 to turn this off as well. If using backend =
"rstan" you can also set open_progress = FALSE to prevent opening
additional progress bars.}

\item{backend}{Character. The backend to use for fitting the model. Can be
"rstan" or "cmdstanr". If NULL (the default), "cmdstanr" will be used if
the cmdstanr package is installed, otherwise "rstan" will be used. You can
set the default backend using global \code{options(brms.backend = "rstan"/"cmdstanr")}}

\item{...}{Further arguments passed to \code{\link[brms:brm]{brms::brm()}} or Stan. See the
description of \code{\link[brms:brm]{brms::brm()}} for more details}
}
\value{
An object of class brmsfit which contains the posterior draws along
with many other useful information about the model. Use methods(class =
"brmsfit") for an overview on available methods.
}
\description{
Fit a Bayesian measurement model using \strong{brms} as a
backend interface to Stan.
}
\section{Supported Models}{
The following models are supported:
\itemize{
\item IMMabc(resp_error, nt_features, set_size, regex, links)
\item IMMbsc(resp_error, nt_features, nt_distances, set_size, regex, links)
\item IMMfull(resp_error, nt_features, nt_distances, set_size, regex, links)
\item mixture2p(resp_error, links)
\item mixture3p(resp_error, nt_features, set_size, regex, links)
\item sdmSimple(resp_error, links)
}

Type  ?modelname  to get information about a specific model, e.g.  ?IMMfull
}

\section{bmmformula syntax}{
see \code{vignette("bmm_bmmformula", package = "bmm")} for a detailed description of the syntax and how
it differs from the syntax for \strong{brmsformula}
}

\section{Default priors, Stan code and Stan data}{
For more information about the default priors in \strong{bmm} and about who to extract the Stan code and data generated by bmm and #'   brms, see \code{vignette("bmm_extract_info", package = "bmm")}.
}

\section{Miscellaneous}{
Type \code{help(package=bmm)} for a full list of available help topics.

\strong{fit_model()} is a deprecated alias for \strong{bmm()}.
}

\examples{
\dontrun{
# generate artificial data from the Signal Discrimination Model
dat <- data.frame(y=rsdm(n=2000))

# define formula
ff <- bmmformula(c ~ 1, kappa ~ 1)

# fit the model
fit <- bmm(formula = ff,
           data = dat,
           model = sdmSimple(resp_error = "y"),
           parallel=T,
           iter = 500,
           backend = 'cmdstanr')
}

}
\references{
Frischkorn, G. T., & Popov, V. (2023). A tutorial for estimating
mixture models for visual working memory tasks in brms: Introducing the
Bayesian Measurement Modeling  (bmm) package for R.
https://doi.org/10.31234/osf.io/umt57
}
\seealso{
\code{\link[=supported_models]{supported_models()}}, \code{\link[brms:brm]{brms::brm()}}, \link[=default_prior.bmmformula]{default_prior()}, \code{\link[=bmmformula]{bmmformula()}}, \link[=stancode.bmmformula]{stancode()}, \link[=standata.bmmformula]{standata()}
}
